# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class GoTask < Formula
  desc "Task runner / simpler Make alternative written in Go"
  homepage "https://taskfile.dev"
  version "3.22.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/go-task/task/releases/download/v3.22.0/task_darwin_arm64.tar.gz"
      sha256 "9fb7e0f7cc861d9a60820903a28ea60922e5b70ce29d59a040a8b3bd272c4e89"

      def install
        bin.install "task"
        bash_completion.install "completion/bash/task.bash" => "task"
        zsh_completion.install "completion/zsh/_task" => "_task"
        fish_completion.install "completion/fish/task.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/go-task/task/releases/download/v3.22.0/task_darwin_amd64.tar.gz"
      sha256 "e185dad07e8dcafee97adb7abc2135036bd4defed262a12fb46dce0466c23207"

      def install
        bin.install "task"
        bash_completion.install "completion/bash/task.bash" => "task"
        zsh_completion.install "completion/zsh/_task" => "_task"
        fish_completion.install "completion/fish/task.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/go-task/task/releases/download/v3.22.0/task_linux_arm64.tar.gz"
      sha256 "9827e63054ddec1ffe0f246f9bb0c0de0d30deac2055481b44304d13cc928fe2"

      def install
        bin.install "task"
        bash_completion.install "completion/bash/task.bash" => "task"
        zsh_completion.install "completion/zsh/_task" => "_task"
        fish_completion.install "completion/fish/task.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/go-task/task/releases/download/v3.22.0/task_linux_amd64.tar.gz"
      sha256 "1079079045b66cde89827c0129aff180ad2d67fda71415164a2a3e98f37c40e7"

      def install
        bin.install "task"
        bash_completion.install "completion/bash/task.bash" => "task"
        zsh_completion.install "completion/zsh/_task" => "_task"
        fish_completion.install "completion/fish/task.fish"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/go-task/task/releases/download/v3.22.0/task_linux_arm.tar.gz"
      sha256 "068793abf6b6c18bfcc9f22207b12de7f25d922960cd5b48e3547851216bc456"

      def install
        bin.install "task"
        bash_completion.install "completion/bash/task.bash" => "task"
        zsh_completion.install "completion/zsh/_task" => "_task"
        fish_completion.install "completion/fish/task.fish"
      end
    end
  end

  test do
    system "#{bin}/task", "--help"
  end
end
